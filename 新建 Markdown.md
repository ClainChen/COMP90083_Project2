**探究在竞价模型中商家的定价策略如何影响总收入**

卖家：

- 商品价格
- 策略

买家：

- 预算

- 期望价

## 核心

模型灵感来源为netlogo的bidding market模型。

模拟为一个具有多个卖家的市场，每个卖家都售卖同一个商品。

每一天(tick)中，买家会随机访问一个卖家，卖家会给买家一个报价，如果该报价符合买家的期望价，买家则会买，否则不会。

卖家的商品报价变化：

- 买家买了商品，一定概率涨价
- 买家没买商品，一定概率降价

买家的期望价变化：

- 没有买商品，一定概率提升期望价
- 买了商品，一定概率降低期望价

涨价，降价，提升期望，降低期望的策略为模型主要探索内容。



# **示例流程**

## 初始化

- 初始化n个卖家
  - 每个卖家的商品价格设为100
  - 每个卖家的可售商品量设为50
  - 为每个卖家分配价格策略
- 初始化m个买家
  - 每个买家的期望价设为10
  - 每个买家的预算设为500
  - 每个买家的需求商品量为40
  - 为每个买家分配价格策略

## 过程

1. 买家随机访问一个卖家
2. 卖家给买家报价
3. 买家决定是否买商品
4. 根据买家是否买了商品，变更定价和期望价
   - 买家买了商品：减少预算
     - 买家：按照成功购入商品后的期望策略调整期望
   - 买家没买商品
     - 买家：按照失败购入商品后的期望策略调整期望
5. 卖家根据本轮成功交易量与总交易量的比值，概率决定是否涨价
   - 如：本轮中，一个卖家受到10个买家访问，其中4个买了，则涨价概率为$\frac{4}{10+1} = \frac{4}{11}$
   - 如果卖家在本轮没有受到任何买家的访问，则价格不变

## 模拟终止条件

- 买家没钱了
- 商品卖完了

## 监控内容

1. 商品卖出均价
2. 买家平均用了多少钱
3. 商家平均收入
4. 买家期望价（最低价，最高价，均价）
5. 卖家平均报价（最低价，最高价，均价）



## 现需要内容

- 一个特定的商品
- 涨价，降价 概率
- 价格，期望变动策略
- 需要逐渐为模型添加元素，目前有的想法
  - 卖家报价后，如果买家不满意（高于预期），则允许几轮议价
    - 每轮议价中，卖家会适当降低价格，买家则会随机变动预期
    - 在任意轮议价中，卖家报价符合买家预期，则交易成立
    - 商品由议价卖出后，卖家会以同等概率决定是否提价或降价
  - 每一次购买时，买家将不会只访问一个卖家，而是会同时访问多个卖家，然后购买其中出价最低且符合预期的商品